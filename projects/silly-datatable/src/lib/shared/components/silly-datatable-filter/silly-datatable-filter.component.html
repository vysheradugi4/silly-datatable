<div *ngIf="formFields"
    [ngClass]="settings?.formContainerClass">
    <form *ngIf="filterForm"
        [formGroup]="filterForm">

        <div [ngClass]="settings?.formElementsContainerClass">

            <ng-container *ngFor="let formField of formFields; let i = index; trackBy: trackByFn"
                formArrayName="filters">
                <ngx-filter-field [filterField]="formField"
                    [ngClass]="formField.formGroupClass"
                    [formControl]="filterForm?.controls?.filters['controls'][i]">
                </ngx-filter-field>
            </ng-container>

            <div [ngClass]="settings?.buttonsContainerClass">

                <button (click)="onCancel()"
                    [ngClass]="settings?.cancelButtonClass">
                    {{ settings?.cancelButtonTitle || 'Cancel' }}
                </button>
                <button [disabled]="!values"
                    [ngClass]="settings?.submitButtonClass"
                    (click)="applyFilters()">
                    {{ settings?.submitButtonTitle || 'Apply Filters' }}
                </button>

            </div>
        </div>
    </form>
</div>